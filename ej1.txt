primero importamos las librerias necesarias

luego inicializamos las variables
con os.environ accedemos a las variables de entorno

en la funcion on_press incrementamos una variable global y añadimos la variable 
key al final de la lista de key y si el contador es mayor o igual a uno llama 
a la funcion write_file

en la funcion write_file abrimos un archivo con el modo Append y iteramos sobre
la lista keys y para cada key eliminamos las ' y si se corresponde con varias reglas
escribe un String u otro y si no lo escribe directamente

Luego añadimos un event listener que ejecuta la funcion on_press y espera a que
finalize el hilo (Threading) del listener.